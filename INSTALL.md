# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∑–∞–ø—É—Å–∫—É Mind-Fix

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ.

## –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω [Docker Desktop](https://www.docker.com/products/docker-desktop/) –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Docker.
2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.10+ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤.
3.  **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: `git clone <URL –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>` –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞.

## –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª `.env`.
    ```bash
    cp .env.example .env
    ```
2.  **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`**: –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –≤–ø–∏—à–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –¥–ª—è Telegram-–±–æ—Ç–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_BOT_TOKEN`. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

## –®–∞–≥ 3: –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

1.  **–ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ `data/`**: –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É `data/` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ —Ç—É–¥–∞ –≤–∞—à–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ –ò–¢–ù: `–ü–æ–ª–Ω—ã–π –ò–¢–ù.docx`, `–ê–¥–∞–ø—Ç–æ–ª–æ–≥–∏—è.pdf`, `result.json` –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ `.txt`, `.md` —Ñ–∞–π–ª—ã.
2.  **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤**:
    ```bash
    pip install -r rag_pipeline/requirements.txt
    ```
3.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã Ollama –∏ ChromaDB**:
    ```bash
    docker-compose up -d ollama chromadb
    ```
    –î–æ–∂–¥–∏—Ç–µ—Å—å, –ø–æ–∫–∞ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å—Ç—è—Ç—Å—è (—ç—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç).
4.  **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å Llama 3.1**: –ï—Å–ª–∏ –º–æ–¥–µ–ª—å –µ—â–µ –Ω–µ —Å–∫–∞—á–∞–Ω–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ```bash
    docker-compose exec ollama ollama pull llama3.1:8b
    ```
5.  **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π**:
    ```bash
    python rag_pipeline/build_knowledge_base.py
    ```
    –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `data/` –∏ —Å–æ–∑–¥–∞—Å—Ç `data/knowledge_base.jsonl`.
6.  **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –≤ ChromaDB**:
    ```bash
    python rag_pipeline/ingest_to_chroma.py
    ```
    –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤ ChromaDB.

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã**:
    ```bash
    docker-compose up --build -d
    ```
    –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã –¥–ª—è `backend`, `telegram_bot` –∏ `analytics` –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

## –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

1.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API**: –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ `http://localhost:8000/docs`. –≠—Ç–æ Swagger UI –¥–ª—è –≤–∞—à–µ–≥–æ API.
2.  **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å**:
    *   –ù–∞–π–¥–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/v1/rag/query`.
    *   –ù–∞–∂–º–∏—Ç–µ "Try it out".
    *   –í–≤–µ–¥–∏—Ç–µ –≤ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
        ```json
        {
          "text": "—Ä–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –≤–µ—Å—ã –¥—É—à–∏",
          "doc_type": "theory"
        }
        ```
    *   –ù–∞–∂–º–∏—Ç–µ "Execute". –í—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π LLM –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
3.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–æ—Ç–∞**: –ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É Telegram-–±–æ—Ç—É. (–õ–æ–≥–∏–∫–∞ –µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å API –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –Ω–æ —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω).
4.  **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–Ω–∞–ª–∏—Ç–∏–∫—É**: –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8501`.

## –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π

1.  **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: –ü—Ä–æ—Å—Ç–æ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –Ω–æ–≤—ã–µ `.docx`, `.pdf` –∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `data/`.
2.  **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —à–∞–≥–∏ 3.5 –∏ 3.6**: –ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏, —á—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –∑–Ω–∞–Ω–∏–π.
    ```bash
    python rag_pipeline/build_knowledge_base.py
    python rag_pipeline/ingest_to_chroma.py
    ```
    –°–∫—Ä–∏–ø—Ç `ingest_to_chroma.py` –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è —á–∏—Å—Ç–æ—Ç—É –¥–∞–Ω–Ω—ã—Ö.

## üõ†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

1.  **–û—à–∏–±–∫–∞ `ImportError: ...` –∏–ª–∏ `ModuleNotFoundError: ...`**
    *   **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –∏—Ö –≤–µ—Ä—Å–∏–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç.
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∏—Ö:
        ```bash
        pip install -r rag_pipeline/requirements.txt --upgrade
        ```

2.  **–û—à–∏–±–∫–∞ `–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ ChromaDB` –∏–ª–∏ `Connection refused`**
    *   **–ü—Ä–∏—á–∏–Ω–∞**: Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `chromadb` –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –µ—â–µ –Ω–µ —É—Å–ø–µ–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è.
    *   **–†–µ—à–µ–Ω–∏–µ**:
        *   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ —Å–µ—Ä–≤–∏—Å—ã –∫–æ–º–∞–Ω–¥–æ–π `docker-compose up -d chromadb ollama`.
        *   –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ –Ω–µ —Å–∞–º—ã—Ö –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–∞—Ö.
        *   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker-compose ps`. –û–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `Up`.

3.  **–°–∫—Ä–∏–ø—Ç `...py` –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø–∞–ø–∫—É `data/`**
    *   **–ü—Ä–∏—á–∏–Ω–∞**: –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.
    *   **–†–µ—à–µ–Ω–∏–µ**: –í—Å–µ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `python rag_pipeline/...` –∫–æ–º–∞–Ω–¥—ã, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–∞–º, –≥–¥–µ –ª–µ–∂–∏—Ç `docker-compose.yml`). 